<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#7c89ff">
  <meta name="description" content="Unicorn Run - A top-down tile-based chase game with unicorns">
  <title>Unicorn Run v1.3</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="page">
    <header class="hud">
      <div class="hud-row">
        <div class="hud-score-group">
          <div id="score" class="hud-score">Score: 0</div>
          <div id="level" class="hud-level">Level: 1 / 3</div>
          <div id="lives" class="hud-lives">Lives: 3</div>
        </div>
        <div class="hud-actions">
          <button id="startButton" class="btn primary">Start</button>
          <button id="pauseButton" class="btn secondary" style="display: none;">Pause</button>
        </div>
      </div>
      <div id="status" class="hud-status">Press Space or Start</div>
    </header>

    <section class="game-area">
      <canvas id="gameCanvas" width="672" height="480" aria-label="Unicorn Run game canvas"></canvas>
      <div id="highScoreContainer" class="high-score-container" style="display: none;">
        <!-- High score entry and display will be inserted here -->
      </div>
      <div class="joystick joystick-left" id="joystickLeft">
        <div class="joystick-base"></div>
        <div class="joystick-stick"></div>
      </div>
      <div class="joystick joystick-right" id="joystickRight">
        <div class="joystick-base"></div>
        <div class="joystick-stick"></div>
      </div>
    </section>

    <section id="debugHud" class="debug-hud" style="display: none;">
      <div class="debug-hud-content">
        <h3 class="debug-hud-title">Movement Debug Info</h3>
        <div class="debug-hud-grid">
          <div class="debug-hud-section" id="debugSectionPlayerPos" style="display: none;">
            <h4>Player Position</h4>
            <div id="debugPlayerPos" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionPlayerDir" style="display: none;">
            <h4>Player Direction</h4>
            <div id="debugPlayerDir" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionPlayerDesired" style="display: none;">
            <h4>Desired Direction</h4>
            <div id="debugPlayerDesired" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionPlayerSpeed" style="display: none;">
            <h4>Speed & Layer</h4>
            <div id="debugPlayerSpeed" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionCurrentTile" style="display: none;">
            <h4>Current Tile</h4>
            <div id="debugCurrentTile" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionPortal" style="display: none;">
            <h4>Portal Info</h4>
            <div id="debugPortalInfo" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionNeighbors" style="display: none;">
            <h4>Neighbors</h4>
            <div id="debugNeighbors" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionGridInfo" style="display: none;">
            <h4>Grid Info</h4>
            <div id="debugGridInfo" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionBridgeTunnel" style="display: none;">
            <h4>Bridge/Tunnel Debug</h4>
            <div id="debugBridgeTunnel" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionCollisionCorners" style="display: none;">
            <h4>Collision Corners</h4>
            <div id="debugCollisionCorners" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionMovementStart" style="display: none;">
            <h4>Movement Start Check</h4>
            <div id="debugMovementStart" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionSwitch" style="display: none;">
            <h4>Switch Debug</h4>
            <div id="debugSwitch" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionUnicorn" style="display: none;">
            <h4>Unicorn Debug</h4>
            <div id="debugUnicorn" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionGameState" style="display: none;">
            <h4>Game State & Lives</h4>
            <div id="debugGameState" class="debug-hud-value">-</div>
          </div>
          <div class="debug-hud-section" id="debugSectionCollision" style="display: none;">
            <h4>Collision Detection</h4>
            <div id="debugCollision" class="debug-hud-value">-</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="game.js?v=1.3.0"></script>
</body>
</html>
